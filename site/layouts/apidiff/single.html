{{ partial "header.html" . }}
<h1>{{ .Title }}</h1>

{{ $targetversion := .Params.Targetversion }}
{{ $baseversion := .Params.Baseversion }}

{{ with (index (index (index $.Site.Data.jdk.versions $targetversion) "apidiff") $baseversion) }}

<p>
  Comparing <a href="../../../{{ .target.version }}">Java {{ .target.version }}</a> (build {{ .target.build }})
  with <a href="../../../{{ .base.version }}"> Java {{ .base.version }}</a> (build {{ .base.build }}).
</p>

<table>
  <thead>
    <tr>
      <th>Element</th>
      <th>Modification</th>
    </tr>
  </thead>
  <tbody>
  {{ range .deltas }}
    <tr>
      <td><div class="{{ .type }}" style="margin-left:{{ mul .level 18 }}px">
        {{ if eq "added" .status }}
          <a href="{{ .javadoc }}">{{ truncate 50 "..." .name }}</a>
        {{ else if eq "modified" .status }}
          <a href="{{ .javadoc }}">{{ truncate 50 "..." .name }}</a>
        {{ else if eq "removed" .status }}
          <div class="removed">{{ truncate 50 "..." .name }}</div>
        {{ else }}
          <div>{{ truncate 50 "..." .name }}</div>
        {{ end }}
      </div></td>
      <td>
        <ul class="tag">
        {{ if eq "added" .status }}
          <li class="tag newelement">added</li>
        {{ else if eq "removed" .status }}
          <li class="tag removedelement">removed</li>
        {{ end }}
        {{ range .removedTags }}
          <li class="tag removedtag"><b>-</b> {{ . }}</li>
        {{ end }}
        {{ range .addedTags }}
          <li class="tag newtag"><b>+</b> {{ . }}</li>
        {{ end }}
        </ul>
      </td>
    </tr>
  {{ end }}
  </tbody>
</table>
<a class="datasource" href="{{ $.Site.Params.Sourcebase }}data/jdk/versions/{{ $targetversion }}/apidiff/{{ $baseversion }}.json">Data Source</a>

{{ end }}
{{ partial "footer.html" . }}

